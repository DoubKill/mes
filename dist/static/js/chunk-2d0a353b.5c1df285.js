(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a353b"],{"0269":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},on:{change:e.changeList},model:{value:e.getParams.start_time,callback:function(t){e.$set(e.getParams,"start_time",t)},expression:"getParams.start_time"}})],1),a("el-form-item",{attrs:{label:"订单状态"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:e.changeList},model:{value:e.getParams.status,callback:function(t){e.$set(e.getParams,"status",t)},expression:"getParams.status"}},e._l(e.options1,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"物料编码"}},[a("material-code-select",{on:{changeSelect:e.materialCodeFun}})],1),a("el-form-item",{attrs:{label:"发货类型"}},[a("deliverTypeSelect",{on:{changeSelect:e.deliverTypeSelectFun}})],1),a("el-form-item",{attrs:{label:"目的地"}},[a("destinationSelect",{on:{changeSelect:e.destinationSelectFun}})],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",fit:"","cell-style":e.cellStyle,data:e.tableData}},[a("el-table-column",{attrs:{label:"No",type:"index",align:"center"}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"created_date"}}),a("el-table-column",{attrs:{label:"目的地",align:"center",prop:"dispatch_location_name"}}),a("el-table-column",{attrs:{label:"发货单号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{underline:!1,type:"primary"},on:{click:function(a){return e.showDetail(t.row.order_no)}}},[e._v(e._s(t.row.order_no))])]}}])}),a("el-table-column",{attrs:{label:"发货类型",align:"center",prop:"dispatch_type_name"}}),a("el-table-column",{attrs:{label:"物料编码",align:"center",prop:"material_name"}}),a("el-table-column",{attrs:{label:"发货数量",align:"center",prop:"need_qty"}}),a("el-table-column",{attrs:{label:"已发数量",align:"center",prop:"actual_qty"}}),a("el-table-column",{attrs:{label:"发货重量",align:"center",prop:"need_weight"}}),a("el-table-column",{attrs:{label:"已发重量",align:"center",prop:"actual_weight"}}),a("el-table-column",{attrs:{label:"订单状态",align:"center",prop:"status_name"}}),a("el-table-column",{attrs:{label:"发起人",align:"center",prop:"dispatch_user"}}),a("el-table-column",{attrs:{label:"完成时间",align:"center",prop:"fin_time"}})],1),a("page",{attrs:{total:e.total,"current-page":e.getParams.page},on:{currentChange:e.currentChange}}),a("el-dialog",{attrs:{title:"发货明细",width:"80%",visible:e.detailDialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.detailDialogVisible=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",fit:"",data:e.detailTable}},[a("el-table-column",{attrs:{label:"No",type:"index",align:"center"}}),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"created_date"}}),a("el-table-column",{attrs:{label:"发货单号",align:"center",prop:"order_no"}}),a("el-table-column",{attrs:{label:"物料编码",align:"center",prop:"material_no"}}),a("el-table-column",{attrs:{label:"lot_no",align:"center",prop:"lot_no"}}),a("el-table-column",{attrs:{label:"托盘号",align:"center",prop:"pallet_no"}}),a("el-table-column",{attrs:{label:"单托重量",align:"center",prop:"weight"}}),a("el-table-column",{attrs:{label:"发货人",align:"center",prop:"dispatch_user"}}),a("el-table-column",{attrs:{label:"发货时间",align:"center",prop:"order_created_time"}}),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(1===t.row.status?"发货":"撤销")+" ")]}}])})],1),a("page",{attrs:{total:e.totalDetail,"current-page":e.detailParams.page},on:{currentChange:e.currentChangeDetail}})],1)],1)},n=[],r=a("f060"),i=a("ed08"),o=a("3e51"),s=a("cf45"),c=a("4cad"),u=a("19c7"),p=a("1313"),g={components:{page:o["a"],MaterialCodeSelect:c["a"],deliverTypeSelect:u["a"],destinationSelect:p["a"]},data:function(){return{tableData:[],detailTable:[],options1:s["a"].statusList,getParams:{start_time:Object(i["d"])(),page:1},detailParams:{page:1},detailDialogVisible:!1,total:1,totalDetail:1}},created:function(){this.getTableData()},methods:{getTableData:function(){var e=this;Object(r["e"])(this.getParams).then((function(t){e.tableData=t.results,e.total=t.count}))},changeList:function(){this.getParams.page=1,this.getTableData()},materialCodeFun:function(e){this.getParams.material=e,this.getParams.page=1,this.getTableData()},deliverTypeSelectFun:function(e){this.getParams.dispatch_type=e,this.getParams.page=1,this.getTableData()},destinationSelectFun:function(e){this.getParams.dispatch_location=e,this.getParams.page=1,this.getTableData()},getDetailTable:function(){var e=this;Object(r["d"])(this.detailParams).then((function(t){e.detailTable=t.results,e.totalDetail=t.count}))},showDetail:function(e){console.log(e),this.detailParams.order_no=e,this.detailParams.page=1,this.detailDialogVisible=!0,this.getDetailTable()},currentChange:function(e){this.getParams.page=e,this.getTableData()},currentChangeDetail:function(e){this.detailParams.page=e,this.getDetailTable()},cellStyle:function(e){var t=e.row,a=e.column,l=(e.rowIndex,e.columnIndex,a.property);if(t[l]&&"status_name"===l){if("关闭"===t[l])return"color: #888888";if("新建"===t[l])return"color: #000093";if("执行中"===t[l])return"color: #F5A623";if("完成"===t[l])return"color: #7ED321";if("失败"===t[l])return"color: #FF0000"}}}},b=g,m=a("2877"),d=Object(m["a"])(b,l,n,!1,null,null,null);t["default"]=d.exports}}]);