(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f88b79b"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"13d5":function(e,t,n){"use strict";var a=n("23e7"),r=n("d58f").left,i=n("a640"),u=n("ae40"),s=i("reduce"),c=u("reduce",{1:0});a({target:"Array",proto:!0,forced:!s||!c},{reduce:function(e){return r(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"1f6c":function(e,t,n){"use strict";n.d(t,"k",(function(){return i})),n.d(t,"O",(function(){return u})),n.d(t,"C",(function(){return s})),n.d(t,"B",(function(){return c})),n.d(t,"y",(function(){return o})),n.d(t,"G",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"j",(function(){return h})),n.d(t,"I",(function(){return f})),n.d(t,"m",(function(){return b})),n.d(t,"c",(function(){return g})),n.d(t,"z",(function(){return v})),n.d(t,"N",(function(){return m})),n.d(t,"h",(function(){return p})),n.d(t,"E",(function(){return O})),n.d(t,"D",(function(){return j})),n.d(t,"F",(function(){return y})),n.d(t,"l",(function(){return _})),n.d(t,"K",(function(){return P})),n.d(t,"L",(function(){return M})),n.d(t,"x",(function(){return S})),n.d(t,"s",(function(){return U})),n.d(t,"w",(function(){return w})),n.d(t,"g",(function(){return T})),n.d(t,"M",(function(){return C})),n.d(t,"a",(function(){return x})),n.d(t,"u",(function(){return k})),n.d(t,"r",(function(){return D})),n.d(t,"t",(function(){return I})),n.d(t,"q",(function(){return L})),n.d(t,"b",(function(){return N})),n.d(t,"d",(function(){return F})),n.d(t,"i",(function(){return q})),n.d(t,"f",(function(){return E})),n.d(t,"J",(function(){return R})),n.d(t,"H",(function(){return B})),n.d(t,"v",(function(){return $})),n.d(t,"n",(function(){return A})),n.d(t,"A",(function(){return H})),n.d(t,"p",(function(){return J})),n.d(t,"o",(function(){return G}));var a=n("b775"),r=n("99b1");function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={url:r["a"].GlobalCodesUrl,method:e};return Object.assign(n,t),Object(a["a"])(n)}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].WorkSchedulesUrl+t+"/":r["a"].WorkSchedulesUrl,method:e};return Object.assign(i,n),Object(a["a"])(i)}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].PlanSchedulesUrl+t+"/":r["a"].PlanSchedulesUrl,method:e};return Object.assign(i,n),Object(a["a"])(i)}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].PlanScheduleUrl+t+"/":r["a"].PlanScheduleUrl,method:e};return Object.assign(i,n),Object(a["a"])(i)}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].MaterialsUrl+t+"/":r["a"].MaterialsUrl,method:e};return Object.assign(i,n),Object(a["a"])(i)}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].ProductInfosUrl+t+"/":r["a"].ProductInfosUrl,method:e};return Object.assign(i,n),Object(a["a"])(i)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={url:r["a"].CopyProductInfosUrl,method:e};return Object.assign(n,t),Object(a["a"])(n)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={url:r["a"].EquipUrl,method:e};return Object.assign(n,t),Object(a["a"])(n)}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].RubberMaterialUrl+t+"/":r["a"].RubberMaterialUrl,method:e};return Object.assign(i,n),Object(a["a"])(i)}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].InternalMixerUrl+t+"/":r["a"].InternalMixerUrl,method:e};return Object.assign(i,n),Object(a["a"])(i)}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].ClassesListUrl+t+"/":r["a"].ClassesListUrl,method:e};return Object.assign(i,n),Object(a["a"])(i)}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].PalletFeedBacksUrl+t+"/":r["a"].PalletFeedBacksUrl,method:e};return Object.assign(i,n),Object(a["a"])(i)}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].TrainsFeedbacksUrl+t+"/":r["a"].TrainsFeedbacksUrl,method:e};return Object.assign(i,n),Object(a["a"])(i)}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].EchartsListUrl+t+"/":r["a"].EchartsListUrl,method:e};return Object.assign(i,n),Object(a["a"])(i)}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].ProductClassesPlanUrl+t+"/":r["a"].ProductClassesPlanUrl,method:e};return Object.assign(i,n),Object(a["a"])(i)}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].ProductClassesPlanPanycreateUrl+t+"/":r["a"].ProductClassesPlanPanycreateUrl,method:e};return Object.assign(i,n),Object(a["a"])(i)}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].ProductDayPlanNotice+t+"/":r["a"].ProductDayPlanNotice,method:e};return Object.assign(i,n),Object(a["a"])(i)}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].HomePageUrl+t+"/":r["a"].HomePageUrl,method:e};return Object.assign(i,n),Object(a["a"])(i)}function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].TestIndicators+t+"/":r["a"].TestIndicators,method:e};return Object.assign(i,n),Object(a["a"])(i)}function M(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].TestSubTypes+t+"/":r["a"].TestSubTypes,method:e};return Object.assign(i,n),Object(a["a"])(i)}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].MaterialTestOrders+t+"/":r["a"].MaterialTestOrders,method:e};return Object.assign(i,n),Object(a["a"])(i)}function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].MatIndicatorTab+t+"/":r["a"].MatIndicatorTab,method:e};return Object.assign(i,n),Object(a["a"])(i)}function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].MaterialDataPoints+t+"/":r["a"].MaterialDataPoints,method:e};return Object.assign(i,n),Object(a["a"])(i)}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].DataPoints+t+"/":r["a"].DataPoints,method:e};return Object.assign(i,n),Object(a["a"])(i)}function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].TestTypes+t+"/":r["a"].TestTypes,method:e};return Object.assign(i,n),Object(a["a"])(i)}function x(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].BatchingMaterials+t+"/":r["a"].BatchingMaterials,method:e};return Object.assign(i,n),Object(a["a"])(i)}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].MatTestMethods+t+"/":r["a"].MatTestMethods,method:e};return Object.assign(i,n),Object(a["a"])(i)}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].MatDataPointIndicators+t+"/":r["a"].MatDataPointIndicators,method:e};return Object.assign(i,n),Object(a["a"])(i)}function I(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].MatTestIndicatorMethods+t+"/":r["a"].MatTestIndicatorMethods,method:e};return Object.assign(i,n),Object(a["a"])(i)}function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].LevelResult+t+"/":r["a"].LevelResult,method:e};return Object.assign(i,n),Object(a["a"])(i)}function N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].ClassesBanburySummary+t+"/":r["a"].ClassesBanburySummary,method:e};return Object.assign(i,n),Object(a["a"])(i)}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].CollectTrainsFeed+t+"/":r["a"].CollectTrainsFeed,method:e};return Object.assign(i,n),Object(a["a"])(i)}function q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].EquipBanburySummary+t+"/":r["a"].EquipBanburySummary,method:e};return Object.assign(i,n),Object(a["a"])(i)}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].CutTimeCollect+t+"/":r["a"].CutTimeCollect,method:e};return Object.assign(i,n),Object(a["a"])(i)}function R(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].SumSollectTrains+t+"/":r["a"].SumSollectTrains,method:e};return Object.assign(i,n),Object(a["a"])(i)}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].PutPlanManagement+t+"/":r["a"].PutPlanManagement,method:e};return Object.assign(i,n),Object(a["a"])(i)}function $(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].MaterialCount+t+"/":r["a"].MaterialCount,method:e};return Object.assign(i,n),Object(a["a"])(i)}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].InventoryLog+t+"/":r["a"].InventoryLog,method:e};return Object.assign(i,n),Object(a["a"])(i)}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].PalletTrainsFeedbacks+t+"/":r["a"].PalletTrainsFeedbacks,method:e};return Object.assign(i,n),Object(a["a"])(i)}function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].LbPlanManagement+t+"/":r["a"].LbPlanManagement,method:e};return Object.assign(i,n),Object(a["a"])(i)}function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={url:t?r["a"].LabelPrint+t+"/":r["a"].LabelPrint,method:e};return Object.assign(i,n),Object(a["a"])(i)}},"2c93":function(e,t,n){"use strict";n("ac1f"),n("841c");var a=n("ed08");t["a"]={created:function(){var e=Object(a["b"])(),t=Object(a["b"])(new Date(new Date-2592e6));this.search.date=[t,e];var n=this.search.date;this.search.st=n?n[0]:"",this.search.et=n?n[1]:""}}},"3e59":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[n("el-form",{attrs:{inline:!0}},[n("el-form-item",{attrs:{label:"时间:"}},[n("el-date-picker",{attrs:{clearable:!0,type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},on:{change:e.changeDate},model:{value:e.search.date,callback:function(t){e.$set(e.search,"date",t)},expression:"search.date"}})],1),n("el-form-item",[n("el-radio-group",{on:{change:e.changeRadio},model:{value:e.search.day_type,callback:function(t){e.$set(e.search,"day_type",t)},expression:"search.day_type"}},[n("el-radio",{attrs:{label:1}},[e._v("自然日")]),n("el-radio",{attrs:{label:2}},[e._v("工厂时间")])],1)],1),n("br"),n("el-form-item",{attrs:{label:"时间跨度:"}},[n("time-span-select",{attrs:{"default-val":e.search.dimension,"day-type":e.search.day_type},on:{changeSelect:e.timeSpanChanged}})],1),n("el-form-item",{attrs:{label:"设备编码:"}},[n("equip-select",{attrs:{equip_no_props:e.search.equip_no},on:{"update:equip_no_props":function(t){return e.$set(e.search,"equip_no",t)},changeSearch:e.equipChanged}})],1)],1),n("el-table",{attrs:{data:e.tableData,border:"","show-summary":"","summary-method":e.getSummaries}},[n("el-table-column",{attrs:{type:"index",label:"No",width:"60"}}),n("el-table-column",{attrs:{label:3===e.search.dimension?"月份":1===e.search.dimension?"班次":"时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.date))]),1===e.search.dimension?n("span",[e._v("/"+e._s(t.row.classes))]):e._e()]}}])}),n("el-table-column",{attrs:{prop:"equip_no",label:"设备编码"}}),n("el-table-column",{attrs:{prop:"total_trains",label:"总车数"}}),n("el-table-column",{attrs:{prop:"total_time",label:"总耗时/min"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(" "+e._s(e._f("setTimeMin")(n.total_time))+" ")]}}])}),n("el-table-column",{attrs:{label:"总时间/min",prop:"classes_time"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("span",[e._v(" "+e._s(e._f("setTimeMin")(a.classes_time))+" ")])]}}])}),n("el-table-column",{attrs:{label:"利用率"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[2===Number(e.search.day_type)&&1===e.search.dimension?n("span",[e._v(" "+e._s(e.setUse(a.total_time,a.classes_time,!0))+" ")]):e._e(),2===e.search.dimension?n("span",[e._v(" "+e._s(e.setUse(a.total_time,86400,!0))+" ")]):e._e(),3===e.search.dimension?n("span",[e._v(" "+e._s(e.setUse(a.total_time,15552e4,!0))+" ")]):e._e()]}}])})],1),n("page",{attrs:{total:e.total,"current-page":e.search.page},on:{currentChange:e.currentChange}})],1)},r=[],i=(n("a623"),n("4160"),n("baa5"),n("d81d"),n("13d5"),n("a9e3"),n("b680"),n("ac1f"),n("841c"),n("159b"),n("96cf"),n("1da1")),u=n("4090"),s=n("3e51"),c=n("befc"),o=n("1f6c"),l=n("2c93"),d={components:{page:s["a"],equipSelect:u["a"],timeSpanSelect:c["a"]},mixins:[l["a"]],data:function(){return{total:0,loading:!1,search:{page:1,dimension:1,day_type:2,date:[]},tableData:[]}},created:function(){this.getList()},methods:{getList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,Object(o["i"])("get",null,{params:e.search});case 4:n=t.sent,e.total=n.count,e.tableData=n.results,e.tableData.length>0&&(2!==Number(e.search.day_type)||1!==e.search.dimension)&&(2===e.search.dimension?a=86400:3===e.search.dimension&&(a=2592e3),e.tableData.forEach((function(e){e.classes_time=a}))),e.loading=!1,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),e.loading=!1;case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},changeDate:function(e){this.search.st=e?e[0]:"",this.search.et=e?e[1]:"",this.getList(),this.search.page=1},changeRadio:function(e){this.search.day_type=e,this.getList(),this.search.page=1},currentChange:function(e){this.search.page=e,this.getList()},equipChanged:function(e){this.search.equip_no=e,this.getList(),this.search.page=1},timeSpanChanged:function(e){this.search.dimension=e,this.getList(),this.search.page=1},setMonth:function(e){if(e){var t=new Date(e);return t.getFullYear()+"/"+(t.getMonth()+1)}},setUse:function(e,t){if(!e||!t)return 0;var n=parseFloat(e/t*100).toFixed(100),a=n.substring(0,n.lastIndexOf(".")+3);return a+"%"},setNum:function(e){if(e<0)return e;if(!e)return 0;var t=parseFloat(e/60).toFixed(10),n=t.substring(0,t.lastIndexOf(".")+2);return n},getSummaries:function(e){var t=this,n=e.columns,a=e.data,r=[];return n.forEach((function(e,n){if(0!==n){var i=a.map((function(t){return Number(t[e.property])}));i.every((function(e){return isNaN(e)}))?r[n]:(r[n]=i.reduce((function(e,t){var n=Number(t);return isNaN(n)?e:e+t}),0),3===n?r[n]:r[n]=t.setNum(r[n]))}else r[n]="总价"})),r}}},h=d,f=n("2877"),b=Object(f["a"])(h,a,r,!1,null,null,null);t["default"]=b.exports},"841c":function(e,t,n){"use strict";var a=n("d784"),r=n("825a"),i=n("1d80"),u=n("129f"),s=n("14c3");a("search",1,(function(e,t,n){return[function(t){var n=i(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,n):new RegExp(t)[e](String(n))},function(e){var a=n(t,e,this);if(a.done)return a.value;var i=r(e),c=String(this),o=i.lastIndex;u(o,0)||(i.lastIndex=0);var l=s(i,c);return u(i.lastIndex,o)||(i.lastIndex=o),null===l?-1:l.index}]}))},a623:function(e,t,n){"use strict";var a=n("23e7"),r=n("b727").every,i=n("a640"),u=n("ae40"),s=i("every"),c=u("every");a({target:"Array",proto:!0,forced:!s||!c},{every:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},befc:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-select",{attrs:{placeholder:"请选择时间跨度"},on:{"visible-change":e.visibleChange,change:e.changeSelect},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id,disabled:e.disabled}})})),1)],1)},r=[],i=(n("a9e3"),n("96cf"),n("1da1")),u={props:{defaultVal:{type:Number,default:null},dayType:{type:Number,default:null}},data:function(){return{value:this.defaultVal,options:[{id:1,name:"班次"},{id:2,name:"日"},{id:3,name:"月"}]}},watch:{dayType:function(e){e&&(this.value=1===this.value&&1===e?2:this.value,this.$set(this.options[0],"disabled",2!==e),this.$emit("changeSelect",this.value))}},methods:{getList:function(){return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e)})))()},visibleChange:function(e){},changeSelect:function(e){this.$emit("changeSelect",e)}}},s=u,c=n("2877"),o=Object(c["a"])(s,a,r,!1,null,null,null);t["a"]=o.exports},d58f:function(e,t,n){var a=n("1c0b"),r=n("7b0b"),i=n("44ad"),u=n("50c4"),s=function(e){return function(t,n,s,c){a(n);var o=r(t),l=i(o),d=u(o.length),h=e?d-1:0,f=e?-1:1;if(s<2)while(1){if(h in l){c=l[h],h+=f;break}if(h+=f,e?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;e?h>=0:d>h;h+=f)h in l&&(c=n(c,l[h],h,o));return c}};e.exports={left:s(!1),right:s(!0)}},ed08:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return u}));n("4160"),n("c975"),n("a9e3"),n("b64b"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("4d90"),n("5319"),n("1276"),n("159b");var a=n("53ca");function r(e,t,n){var a=e?new Date(e):new Date,r={y:a.getFullYear(),m:i(a.getMonth()+1),d:i(a.getDate()),h:i(a.getHours()),i:i(a.getMinutes()),s:i(a.getSeconds()),a:i(a.getDay())};return t?r.y+"-"+r.m+"-"+r.d+" "+r.h+":"+r.i+":"+r.s:n&&"continuation"===n?r.y+r.m+r.d+r.h+r.i+r.s:r.y+"-"+r.m+"-"+r.d}function i(e){return e=Number(e),e<10?"0"+e:e}function u(e){if(!e&&"object"!==Object(a["a"])(e))throw new Error("error arguments","deepClone");var t=e.constructor===Array?[]:{};return Object.keys(e).forEach((function(n){e[n]&&"object"===Object(a["a"])(e[n])?t[n]=u(e[n]):t[n]=e[n]})),t}}}]);